!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function o(){return document.getElementById("jamon-count-input")}function t(e,a){return new RegExp("\b".concat(a,"\b")).test(e.className)}function r(e,a){e.className=(e.className||"").replace(a,"").trim()}function n(e,a){t(e,a)||(e.className="".concat(e.className||""," ").concat(a))}function i(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(a,e){var t,o=Object.keys(a);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(a),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),o.push.apply(o,t)),o}function c(o){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){var a,t;a=o,e=r[t=e],t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})}return o}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,a){if(e){if("string"==typeof e)return s(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,a):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,o=new Array(a);t<a;t++)o[t]=e[t];return o}function u(e){return e.reduce(function(e,a,t){return(0===t?"":/^\.|,$/.test(a)?"".concat(e):"".concat(e," ")).concat(a)},"")}function d(e){return e.split(/\s/).filter(function(e){return""!==e}).length}function p(e){return d(u(e))}function m(e,a){return a+Math.floor(Math.random()*(e-a+1))}function f(e,a){var t=a.iterationsWithoutIt,o=void 0===(o=a.wordsLeft)?function(){throw new Error("wordsLeft is required")}:o,a=void 0===(a=a.lastTokens)?[]:a;if(o>e.lastWordsThreshold&&(void 0===t?0:t)>=e.minWordsInBetween&&Math.random()<e.probability)return function(e,a,t,o){for(var r,n=0;r=e[m(e.length-1,0)],++n<t&&(o.includes(r)||d(r)>a););return r}(e.list,o,e.repetitionThreshold,a)}function h(o){return o.map(function(e,a){return 0===a||(t=o[a-1],/\.|!/.test(t.slice(-1)))?(t=e).charAt(0).toUpperCase()+t.slice(1):e;var t})}function g(r){for(var n=l(r.initialTokens||[]),i=r.wordLimit,c={word:{notUsedStreak:0},connector:{notUsedStreak:0},article:{notUsedStreak:0},stop:{notUsedStreak:0}},e=["connector","article","word","stop"],a=0;p(n)<i;)if("break"===function(){var t=n.slice(-r.word.repetitionThreshold).map(function(e){return e.trim()}),o=[];if(e.forEach(function(e){var a=f(r[e],{iterationsWithoutIt:c[e].notUsedStreak,wordsLeft:i-p(n)-p(o),lastTokens:t});c[e].notUsedStreak=a?0:c[e].notUsedStreak+1,a&&o.push(a)}),n.push.apply(n,o),1e3<++a)return"break"}())break;return[].concat(l(h(n)),["."])}var b,e,v="is-showing-modal",y="is-visible",w=function(){function t(e,a){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.body=a,this.open=this.open.bind(this),this.close=this.close.bind(this),this.bind()}var e,a,o;return e=t,(a=[{key:"open",value:function(){n(this.body,v),n(this.el,y)}},{key:"close",value:function(){r(this.body,v),r(this.el,y)}},{key:"bind",value:function(){for(var e=this.el.getElementsByClassName("modal-close"),a=0;a<e.length;a++)e[a].addEventListener("click",this.close)}}])&&i(e.prototype,a),o&&i(e,o),t}(),j=["la","el","las","los","mis","tus","sus","tu","mi","un","una","a","con","mucho de"],k=["y","pero"],E=["ðŸ•","ðŸ‡ªðŸ‡¸","ðŸŠ","ðŸ»","ðŸ³","ðŸ·","ðŸŽ¾","ðŸ","ðŸŽŠ","ðŸ£","ðŸ‘","âœŒ","ðŸŒŸ","ðŸ‘€ ","ðŸ‘…","ðŸ’ª","ðŸ’©","ðŸ˜Ž","ðŸ˜´","ðŸ˜±","ðŸ˜˜","ðŸ˜»"],T=[".",","],O=["jamÃ³n","estopa","tortilla","patata","dolores","calimocho","salmorejo","canciÃ³n","seÃ±or","amiga","estupendo","croquetas","hormiguero","guitarra","Quijote","seÃ±orita","tapas","caÃ±a","copazo","reconquista","charanga","chiringuito","playita","persiana","bocadillo","fregona","tomatito","colacao","cafÃ© con leche","turrÃ³n","pipas","tÃ­o","tÃ­a","botellÃ³n","vaya chollazo","flipado","mola mazo","cocido","al tuntÃºn","fÃºtbol","mÃ¡s fÃºtbol","quinto pino","piripi","ligar","vale","canturreando","vagueando","haciÃ©ndose el loco","no pega ojo","estÃ¡ pan comido","tÃ³cate","enchufe","flamenco","AlmodÃ³var","Rey","jodido","fiesta","siesta","comino","lia","nuestra comunidad","vecinos","chulapo","escanciando sidra","cabra","epa","corral","lacasitos","movida","bingo","chinchÃ³n","rumbeo","aÃ±o","vale","guiri","resaca","hecho polvo","vergÃ¼enza","friolero","torraera","piltrafilla","atÃºn","quillo","picha","kinki","friqui","pasmarote","petardazo","caramba","paella","macho","goleador","clÃ¡sico","gazpacho","mariposita","a lo hecho, pecho.","ancha es Castilla.","gato encerrado","sangre frÃ­a","roÃ±a","roÃ±ica","vamos","Sancho","bonachÃ³n","gordinflÃ³n","caballero","honor","colegas","barrio","litros","talego","BarÃ§a","Real Madrid","duro","chorizo","Costa Brava","dominguera","aquÃ­ no hay tomate","Carnaval","Fallas","horchata","pinchito","sidra","vino rioja","manchego","morcilla","atiborrarse","mete una bola","orujo","fabada","asturiana","madrileÃ±a","canario","gallego","a tope","a diestro y siniestro","Torrente","farruco","peluco","martes 13","litrona","tronco","por la cara","caradura","ronda","maruja","cotilla","como motos","se cortaron","cogiÃ³ prestado","enrÃ³llate","careto","vendiÃ³","musculitos","posturitas","soplÃ³n","camello","pacotilla","trapicheo","tiburÃ³n de la noche","chulo","descafeinado","Ibiza","paliza","chorradas","gorilla","armando gresca","liÃ¡ndola parda","bacalao","borrachos como cubas","Lepe","fulano","soÃ±ar es gratis","colarse","corriendo","cara de malo","truhÃ¡n","salta!","picardÃ­a","se lo van a dar","lo suyo","piÃ±azo","llega tarde","entra que te entra","probando","ojos","pasan","trae","sonrisa","abanica","como CamarÃ³n","entraÃ±as","resacÃ³n","malla de ballet","bailarÃ¡n","collecciÃ³n de","brutal","genial","eso no vale","asÃ­","chiquilla","la mala vida","oveja negra","porterÃ­a","de goleada","mÃ¡xima","maneras de vivir","de vicio","cÃ³mplice","farra","juerga","salir de","el armario","Nadal","Alonso","cien gaviotas","miedo a volar"],B=["JamÃ³n","ipsum"],I=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=e.count,o=void 0===a?function(){throw new Error("count is required")}:a,a=e.type,r=void 0===a?function(){throw new Error("type is required")}:a,e=e.useEmojis,n=void 0===e?function(){throw new Error("useEmojis is required")}:e;return new Promise(function(e){var t,a=function(e,a,t){t={initialTokens:B,paragraphs:[],wordRepetitionThreshold:20,word:{list:t?O.concat(E):O,minWordsInBetween:0,probability:1,lastWordsThreshold:0,repetitionThreshold:20},stop:{list:T,minWordsInBetween:3,probability:.3,lastWordsThreshold:6,repetitionThreshold:0},connector:{list:k,minWordsInBetween:6,probability:.5,lastWordsThreshold:6,repetitionThreshold:0},article:{list:j,minWordsInBetween:2,probability:.5,lastWordsThreshold:2,repetitionThreshold:2}};if("words"===a)t.paragraphs[0]=e;else{if("paragraphs"!==a)throw new Error("Unknown type: ".concat(a));t.paragraphs=function(e,a){for(var t=[],o=0;o<e;o++)t[o]=a(o);return t}(e,function(){return m(100,50)})}return t}(o,r,n),a=(t=a).paragraphs.map(function(e,a){a=c(c({},t),{},{wordLimit:e,initialTokens:0===a?t.initialTokens:void 0});return g(a)});e(a.map(u).reduce(function(e,a){return"".concat(e).concat(a,"\n")},"").trim())})};function S(){var e=parseInt(o().value,10),a=document.querySelector('input[name="type"]:checked').value,t=Boolean(document.querySelector('input[name="emoji"]:checked'));I({count:e,type:a,useEmojis:t}).then(function(e){var a=["<p>",e.split(/\n/).join("</p></p>"),"</p>"].join("");e=a,(a=document.getElementById("jamon-result"))&&(a.innerHTML=e)})}!function(){for(var e=document.getElementsByTagName("INPUT"),a=0;a<e.length;a++)e[a].addEventListener("input",function(e){if("type"===e.target.name&&("words"===e.target.value?o().value=10*o().value:o().value=Math.ceil(o().value/10)),"count"===e.target.name){if(""===e.target.value)return;var a=parseInt(e.target.value,10);if(Number.isNaN(a))return;a<e.target.min&&(e.target.value=e.target.min),a>e.target.max&&(e.target.value=e.target.max),"".concat(a)!==a&&(e.target.value=a)}S()})}(),(b=document.getElementsByTagName("H1")[0].getElementsByClassName("header-logo")[0]).addEventListener("click",function(){var e,a;a="is-rotating",(e=b)&&!t(e,a)&&(n(e,a),setTimeout(function(){r(e,a)},500)),S()}),e=document.getElementById("info-modal"),e=new w(e,document.getElementsByTagName("BODY")[0]),document.getElementById("info-link").addEventListener("click",e.open),S()});