!function(r,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(r="undefined"!=typeof globalThis?globalThis:r||self).jamonipsum=o()}(this,function(){"use strict";function o(o,r){var a,e=Object.keys(o);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(o),r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),e.push.apply(e,a)),e}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach(function(r){var o,a;o=e,r=t[a=r],a in o?Object.defineProperty(o,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[a]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function a(r){return function(r){if(Array.isArray(r))return e(r)}(r)||function(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,o){if(r){if("string"==typeof r)return e(r,o);var a=Object.prototype.toString.call(r).slice(8,-1);return"Map"===(a="Object"===a&&r.constructor?r.constructor.name:a)||"Set"===a?Array.from(r):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(r,o):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(r,o){(null==o||o>r.length)&&(o=r.length);for(var a=0,e=new Array(o);a<o;a++)e[a]=r[a];return e}function c(r){return r.reduce(function(r,o,a){return(0===a?"":/^\.|,$/.test(o)?"".concat(r):"".concat(r," ")).concat(o)},"")}function l(r){return r.split(/\s/).filter(function(r){return""!==r}).length}function s(r){return l(c(r))}function u(r,o){return o+Math.floor(Math.random()*(r-o+1))}function d(r,o){var a=o.iterationsWithoutIt,e=void 0===(e=o.wordsLeft)?function(){throw new Error("wordsLeft is required")}:e,o=void 0===(o=o.lastTokens)?[]:o;if(e>r.lastWordsThreshold&&(void 0===a?0:a)>=r.minWordsInBetween&&Math.random()<r.probability)return function(r,o,a,e){for(var t,n=0;t=r[u(r.length-1,0)],++n<a&&(e.includes(t)||l(t)>o););return t}(r.list,e,r.repetitionThreshold,o)}function p(e){return e.map(function(r,o){return 0===o||(a=e[o-1],/\.|!/.test(a.slice(-1)))?(a=r).charAt(0).toUpperCase()+a.slice(1):r;var a})}function f(t){for(var n=a(t.initialTokens||[]),i=t.wordLimit,c={word:{notUsedStreak:0},connector:{notUsedStreak:0},article:{notUsedStreak:0},stop:{notUsedStreak:0}},r=["connector","article","word","stop"],o=0;s(n)<i;)if("break"===function(){var a=n.slice(-t.word.repetitionThreshold).map(function(r){return r.trim()}),e=[];if(r.forEach(function(r){var o=d(t[r],{iterationsWithoutIt:c[r].notUsedStreak,wordsLeft:i-s(n)-s(e),lastTokens:a});c[r].notUsedStreak=o?0:c[r].notUsedStreak+1,o&&e.push(o)}),n.push.apply(n,e),1e3<++o)return"break"}())break;return[].concat(a(p(n)),["."])}var h=["la","el","las","los","mis","tus","sus","tu","mi","un","una","a","con","mucho de"],m=["y","pero"],b=["🍕","🇪🇸","🍊","🍻","🍳","🍷","🎾","🏁","🎊","🐣","👍","✌","🌟","👀 ","👅","💪","💩","😎","😴","😱","😘","😻"],g=[".",","],v=["jamón","estopa","tortilla","patata","dolores","calimocho","salmorejo","canción","señor","amiga","estupendo","croquetas","hormiguero","guitarra","Quijote","señorita","tapas","caña","copazo","reconquista","charanga","chiringuito","playita","persiana","bocadillo","fregona","tomatito","colacao","café con leche","turrón","pipas","tío","tía","botellón","vaya chollazo","flipado","mola mazo","cocido","al tuntún","fútbol","más fútbol","quinto pino","piripi","ligar","vale","canturreando","vagueando","haciéndose el loco","no pega ojo","está pan comido","tócate","enchufe","flamenco","Almodóvar","Rey","jodido","fiesta","siesta","comino","lia","nuestra comunidad","vecinos","chulapo","escanciando sidra","cabra","epa","corral","lacasitos","movida","bingo","chinchón","rumbeo","año","vale","guiri","resaca","hecho polvo","vergüenza","friolero","torraera","piltrafilla","atún","quillo","picha","kinki","friqui","pasmarote","petardazo","caramba","paella","macho","goleador","clásico","gazpacho","mariposita","a lo hecho, pecho.","ancha es Castilla.","gato encerrado","sangre fría","roña","roñica","vamos","Sancho","bonachón","gordinflón","caballero","honor","colegas","barrio","litros","talego","Barça","Real Madrid","duro","chorizo","Costa Brava","dominguera","aquí no hay tomate","Carnaval","Fallas","horchata","pinchito","sidra","vino rioja","manchego","morcilla","atiborrarse","mete una bola","orujo","fabada","asturiana","madrileña","canario","gallego","a tope","a diestro y siniestro","Torrente","farruco","peluco","martes 13","litrona","tronco","por la cara","caradura","ronda","maruja","cotilla","como motos","se cortaron","cogió prestado","enróllate","careto","vendió","musculitos","posturitas","soplón","camello","pacotilla","trapicheo","tiburón de la noche","chulo","descafeinado","Ibiza","paliza","chorradas","gorilla","armando gresca","liándola parda","bacalao","borrachos como cubas","Lepe","fulano","soñar es gratis","colarse","corriendo","cara de malo","truhán","salta!","picardía","se lo van a dar","lo suyo","piñazo","llega tarde","entra que te entra","probando","ojos","pasan","trae","sonrisa","abanica","como Camarón","entrañas","resacón","malla de ballet","bailarán","collección de","brutal","genial","eso no vale","así","chiquilla","la mala vida","oveja negra","portería","de goleada","máxima","maneras de vivir","de vicio","cómplice","farra","juerga","salir de","el armario","Nadal","Alonso","cien gaviotas","miedo a volar"],y=["Jamón","ipsum"];return function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=r.count,e=void 0===o?function(){throw new Error("count is required")}:o,o=r.type,t=void 0===o?function(){throw new Error("type is required")}:o,r=r.useEmojis,n=void 0===r?function(){throw new Error("useEmojis is required")}:r;return new Promise(function(r){var a,o=function(r,o,a){a={initialTokens:y,paragraphs:[],wordRepetitionThreshold:20,word:{list:a?v.concat(b):v,minWordsInBetween:0,probability:1,lastWordsThreshold:0,repetitionThreshold:20},stop:{list:g,minWordsInBetween:3,probability:.3,lastWordsThreshold:6,repetitionThreshold:0},connector:{list:m,minWordsInBetween:6,probability:.5,lastWordsThreshold:6,repetitionThreshold:0},article:{list:h,minWordsInBetween:2,probability:.5,lastWordsThreshold:2,repetitionThreshold:2}};if("words"===o)a.paragraphs[0]=r;else{if("paragraphs"!==o)throw new Error("Unknown type: ".concat(o));a.paragraphs=function(r,o){for(var a=[],e=0;e<r;e++)a[e]=o(e);return a}(r,function(){return u(100,50)})}return a}(e,t,n),o=(a=o).paragraphs.map(function(r,o){o=i(i({},a),{},{wordLimit:r,initialTokens:0===o?a.initialTokens:void 0});return f(o)});r(o.map(c).reduce(function(r,o){return"".concat(r).concat(o,"\n")},"").trim())})}});